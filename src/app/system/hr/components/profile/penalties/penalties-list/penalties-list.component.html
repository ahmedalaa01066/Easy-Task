<div class="grid-2 penalties-scroll">
  <div *ngFor="let p of penalties; trackBy: trackByIndex" class="item-row">
    <div class="item-left">
      <span class="dot danger"><img src="/assets/images/minus-circle.png" /></span>
      <div class="item-text">
        <div class="item-title">{{ p.description }}</div>
        <div class="item-sub">{{ p.createdDate | date:'yyyy-MM-dd' }}</div>
      </div>
    </div>
    <div class="item-actions">
      <button class="icon-btn danger soft" pTooltip="Delete" (click)="confirmDelete(p)">
        <img src="/assets/images/divide-square.png" alt="Delete" />
      </button>
      <button class="icon-btn danger" pTooltip="Edit" (click)="openEditPenalty(p)">
        <img src="/assets/images/edit.png" alt="Edit" />
      </button>
    </div>
  </div>
</div>
<div class="pagination-wrapper">
  <span class="page-info">
    Page {{ pageNumber }} of {{ totalPages }}
  </span>
  <div class="page-controls">
    <button class="page-btn" (click)="goToPrevious()" [disabled]="pageNumber === 1">Previous</button>
    <button class="page-btn" (click)="goToNext()" [disabled]="pageNumber >= totalPages">Next</button>
  </div>
</div>



<!-- Edit Penality -->
<p-dialog [(visible)]="visibleEdit" [modal]="true" [closable]="true" [draggable]="false" [resizable]="false"
    styleClass="add-candidate-dialog" header="Edit Penalty" [style]="{ width: '600px' }" (onHide)="visibleEdit = false">

    <form #editPenaltyForm="ngForm" (ngSubmit)="onUpdatePenalty()">
        <div class="form-field">
            <label for="description">Description <span class="error-message">*</span></label>
            <input id="description" type="text" pInputText [(ngModel)]="selectedPenalty.description" name="description"
                required minlength="2" class="form-input" />
            <small *ngIf="editPenaltyForm.submitted && !selectedPenalty.description" class="error-message">
                Description is required (min 2 characters)
            </small>
        </div>
    </form>

    <ng-template pTemplate="footer">
        <div class="dialog-footer">
            <div class="footer-right">
                <p-button label="Cancel" [text]="true" severity="secondary" (onClick)="visibleEdit = false"></p-button>
                <p-button label="Save" severity="primary" (onClick)="onUpdatePenalty()" class="save-btn"></p-button>

            </div>
        </div>
    </ng-template>
</p-dialog>


<!-- Delete Penality -->
<p-dialog [(visible)]="showDeleteDialog" [modal]="true" [closable]="false" [style]="{ width: '500px' }"
   >
   <div class="delIcon">
    <img src="../../../../../../assets/images/Frame 248.png">
    </div>
    <div class="d-flex justify-content-center mt-2">
        <p>Do you want to delete this penalty ?</p>
    </div>
    <ng-template pTemplate="footer">
        <div class="d-flex justify-content-center gap-2">
             <p-button type="button" label="Cancel" class="cancel-btn" (click)="showDeleteDialog = false"></p-button>
            <p-button  type="button" label="Confirm" styleClass="confirm-btn" (click)="deletePenalty()"></p-button>
        </div>
    </ng-template>
</p-dialog>