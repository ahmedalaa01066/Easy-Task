<div class="dashboard-container">
  <!-- Today's Attendance -->
  <div class="attendance-wrapper">
    <h4 class="section-title">Today's Attendance</h4>
    <div class="attendance-section">
      <div *ngFor="let item of attendanceData" class="attendance-card">
        <div class="card-left">
          <img src="../../../../../../assets/images/box.png" alt="icon">
        </div>
        <div class="card-right">
          <h4>{{ item.title }}</h4>
          <p>{{ item.value }} Employee</p>
        </div>
      </div>
    </div>
  </div>
  <!-- <div class="dashboard-header">
    <h4>Dashboard</h4>
    <div class="date-filters">
      <div class="date-box">
        <span class="pi pi-calendar"></span>
        <input type="text" placeholder="From Jan 13, 2025" />
      </div>
      <div class="date-box">
        <span class="pi pi-calendar"></span>
        <input type="text" placeholder="To Jan 13, 2025" />
      </div>
    </div>
  </div> -->
  <div class="dashboard-header">
    <h4>Dashboard</h4>

    <div class="date-filters">
      <!-- From Date -->
      <div class="date-box">
        <span class="label-text">From</span>
        <div class="date-input">
          <i class="pi pi-calendar"></i>
          <p-calendar [(ngModel)]="fromDate" dateFormat="M dd, yy" [maxDate]="toDate" [showIcon]="false"
            placeholder="Select From Date" class="calendar-clean"></p-calendar>
        </div>
      </div>

      <!-- To Date -->
      <div class="date-box">
        <span class="label-text">To</span>
        <div class="date-input">
          <i class="pi pi-calendar"></i>
          <p-calendar [(ngModel)]="toDate" dateFormat="M dd, yy" [minDate]="fromDate" [showIcon]="false"
            placeholder="Select To Date" class="calendar-clean"></p-calendar>
        </div>
      </div>

      <!-- Filter Button -->
      <button pButton label="Filter" icon="pi pi-filter" class="p-button-sm p-button-primary filter-btn"
        (click)="filterByDate()"></button>
    </div>
  </div>


  <!-- Attendance Chart -->
  <div class="chart-section">
    <h4 class="section-title">Employee Attendance</h4>
    <canvas id="attendanceChart" height="150"></canvas>
  </div>

  <!-- Recommended Course -->
  <div class="recommended-section">
    <!-- Doughnut Chart -->
    <div class="course-chart-container">
      <h4 class="section-title">Recommended Course</h4>

      <div class="chart-wrapper">
        <canvas #courseChart width="200" height="200"></canvas>

        <div class="course-center">
          <h2>{{ courseStatistics.courseCount }}</h2>
          <p>Courses</p>
        </div>
      </div>

      <div class="legend">
        <div class="legend-item">
          <span class="dot assigned"></span>
          <p>
            <strong>{{ courseStatistics.assignedCourseCount }}</strong> Assigned
            Courses
          </p>
        </div>
        <div class="legend-item">
          <span class="dot unassigned"></span>
          <p>
            <strong>{{ courseStatistics.unassignedCourseCount }}</strong> Unassigned
            Courses
          </p>
        </div>
      </div>
    </div>


    <!-- Table -->
    <div class="course-table">
      <h4 class="section-title">Recommended Course</h4>
      <p-table [value]="recommendedCourses" [rows]="4">
        <ng-template pTemplate="header">
          <tr>
            <th>Recommended Courses</th>
            <th>Number of Assigned Candidates</th>
          </tr>
        </ng-template>

        <ng-template pTemplate="body" let-course>
          <tr>
            <td>{{ course.name }}</td>
            <td class="text-center">{{ course.numOfCandidates }}</td>
          </tr>
        </ng-template>

      </p-table>
      <div class="pagination">
        <span class="page-info">Page {{ pageNumber }} of {{ totalPages }}</span>
        <div class="pagination-buttons">
          <button pButton class="p-button-outlined" (click)="prevPage()" [disabled]="pageNumber === 1">
            Previous
          </button>

          <button pButton class="p-button-outlined" (click)="nextPage()" [disabled]="pageNumber === totalPages">
            Next
          </button>
        </div>
      </div>
    </div>

  </div>

  <!-- Levels Section -->
  <div class="chart-section">
    <h4 class="section-title">Levels</h4>
    <canvas id="levelsChart"></canvas>
  </div>

</div>